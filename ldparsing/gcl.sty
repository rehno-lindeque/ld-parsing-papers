\input mathtabbing.sty
%
%
\def\becomes{\,\colon\!\!\!=}%
\let\become\becomes
%
%
\def\gcl{\def\if@margin{\@stopfield\@addfield\@startfield
                        \ifdim \wd\@curline = \z@}%
\def\PROGskip{\hskip 0.5em}%
\def\DOskip{\PROGskip}%
\def\ASskip{\PROGskip}%
\def\IFskip{\PROGskip}%
\def\BARskip{\PROGskip}%
\def\SEMICOLONskip{\PROGskip}%
\def\ARROWskip{\PROGskip}%
\def\SCOPENskip{\PROGskip}%
\def\COMMENTskip{\PROGskip}%
\def\KWskip{\PROGskip}%
\def\PREDOskip{}%
\def\NAMEskip{\PROGskip}%
\def\BLOCKskip{\PROGskip\PROGskip\PROGskip\PROGskip}%
%
%
\def\keyword##1{{\bf ##1}}%
%
%
\def\SKIP{\keyword{skip}}%
\def\ABORT{\keyword{abort}}%
\def\RETURN{\keyword{return}\KWskip}%
%
%
\def\SCOPEN{|\hskip -0.1em[\SCOPENskip\=\+}%
\def\SCLOSE{\if@margin \< \else \SCOPENskip \fi ]\hskip -0.1em|\-}%
\def\MID{\if@margin \<\,|\> \else \SCOPENskip |\SCOPENskip \fi}%
\def\DO{\if@margin \relax
        \else \PREDOskip \fi
        \gdef\PREDOskip{}%
        \keyword{do}\DOskip\=\+}%
\def\FORALL{\keyword{for\KWskip all}\KWskip\gdef\PREDOskip{\PROGskip}}%
\def\OD{\if@margin \< \else \DOskip \fi
        \keyword{od}\-}%
\def\FOR{\keyword{for}\KWskip\=\+}%
\def\ROF{\if@margin \< \else \DOskip \fi
         \keyword{rof}\-}%
\def\FUNC{\keyword{func}\KWskip\=\+}%
\def\CNUF{\if@margin \< \else \DOskip \fi
         \keyword{cnuf}\-}%
\def\PROC{\keyword{proc}\KWskip\=\+}%
\def\CORP{\if@margin \< \else \DOskip \fi
         \keyword{corp}\-}%
\def\REPEAT{\keyword{repeat}\KWskip\=\+}%
\def\UNTIL{\if@margin \< \else \KWskip \fi
           \keyword{until}\KWskip\-}%
\def\AS{\keyword{as}\ASskip\=\+}%
\def\SA{\if@margin \< \else \ASskip \fi
        \keyword{sa}\-}%
\def\IF{\keyword{if}\IFskip\=\+}%
\def\FI{\if@margin \< \else \IFskip \fi
        \keyword{f{}i}\-}%
\def\BAR{\if@margin \<[\!]\> \else
         \BARskip[\!]\BARskip \fi}%
\def\;{\if@margin \llap{;\hskip 0.1em} \else
       ;\SEMICOLONskip \fi}%
\def\ARROW{\if@margin \relax \else {}\fi
           \rightarrow{}}%
\def\BB{\if@margin \BLOCKskip \fi\=\+}%
\def\EB##1{\-\if@margin \< \else ##1 \fi}%
\def\BC{\{\COMMENTskip\=\+}%
\def\EC{\if@margin \< \else \COMMENTskip \fi \}\COMMENTskip\-}%
\def\LET{\keyword{let}\KWskip}%
%
\def\SET{\keyword{set}\NAMEskip}%
\def\OF{\keyword{of}\NAMEskip}%
\def\ARRAY{\keyword{array}\NAMEskip}%
%
\def\VAR{\keyword{var}\NAMEskip}%
\def\IN{\keyword{in}\NAMEskip}%
\def\INOUT{\keyword{inout}\NAMEskip}%
\def\PRE{\keyword{pre}\NAMEskip}%
\def\POST{\keyword{post}\NAMEskip}%
%
%
\obeycr\mathtabbing}
%
%
\def\endgcl{\endmathtabbing}
%
%
